<!doctype html>
<html lang="en-US">
<head>
    <meta charset="UTF-8" />
    <title>File(s) size</title>
</head>

<body>
<form name="uploadForm">
    <div>
        <input id="uploadInput" type="file" multiple />
        <label for="fileNum">Selected files:</label>
        <output id="fileNum">0</output>;
        <label for="fileSize">Total size:</label>
        <output id="fileSize">0</output>
        <br />
        <img id="filePreview" src="" />
    </div>
    <div><input type="submit" value="Send file" /></div>
</form>

<script>
    // https://schibsted.com/blog/the-magic-of-createobjecturl/
    const uploadInput = document.getElementById("uploadInput");
    uploadInput.addEventListener(
        "change",
        () => {
            // Calculate total size
            let numberOfBytes = 0;

            let angieFile = uploadInput.files[0];
            // if user clicked - cancel - WE DONT have any file in array
            if (!angieFile) {
                return;
            }
            console.dir(angieFile);
            //URL.createObjectURL - generate link for file in ram blob:[different....]
            var url = URL.createObjectURL(angieFile);
            console.log('url:', url);
            document.getElementById('filePreview').style.height = '200px';
            document.getElementById('filePreview').src = url;

            for (const file of uploadInput.files) {
                numberOfBytes += file.size;
            }
        },
        false,
    );
</script>
</body>
</html>